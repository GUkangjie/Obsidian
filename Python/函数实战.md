1. 设计一个生成随机验证码的函数，验证码由数字和英文大小写字母构成，长度可以通过参数设置
```python
"""

string模块的digits代表0到9的数字构成的字符串'0123456789'

string模块的ascii_letters代表大小写英文字母构成的字符串'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'

random模块的sample和choices函数都可以实现随机抽样,sample实现无放回抽样,这意味着抽样取出的元素是不重复的;choices实现有放回抽样,这意味着可能会重复选中某些元素。

random.choices(ALL_CHARS, k=code_len)会返回一个列表

这两个函数的第一个参数代表抽样的总体,而参数k代表样本容量,需要说明的是choices函数的参数k是一个命名关键字参数,在传参时必须指定参数名

"""

import random # 导入随机数相关模块

import string # 导入字符串常量模块

  

# 定义不同字符类型与string模块常量的映射

CHAR_TYPE_MAP = {

'lowercase': string.ascii_lowercase, # 小写字母

'uppercase': string.ascii_uppercase, # 大写字母

'digits': string.digits, # 数字

'special': string.punctuation, # 特殊符号

}

# 定义不同强度密码需要包含的字符类型

STRENGTH_RULES = {

'weak': ['lowercase'], # 弱密码：只包含小写字母

'medium': ['lowercase', 'uppercase', 'digits'], # 中等密码：包含大小写字母和数字

'strong': ['lowercase', 'uppercase', 'digits', 'special'], # 强密码：包含大小写字母、数字和特殊符号

}

  

# 密码生成主函数

def generate_password(code_len=12, strength='strong', allow_repeat=True, custom_chars=None):

"""

自动满足强度规则的密码生成器

- code_len: 密码长度,默认12

- strength: 'weak' | 'medium' | 'strong'，密码强度

- allow_repeat: 是否允许字符重复，默认允许

- custom_chars: 自定义字符集（不走强度规则，直接用自定义字符）

"""

# 如果传入自定义字符集，则直接用自定义字符生成密码

if custom_chars:

# 不允许重复且自定义字符数量不足时抛出异常

if not allow_repeat and code_len > len(set(custom_chars)):

raise ValueError("自定义字符数量不足以生成无重复密码")

# 根据是否允许重复选择sample（无放回）或choices（有放回）

return ''.join(

random.sample(custom_chars, k=code_len)

if not allow_repeat else random.choices(custom_chars, k=code_len)

)

  

# 检查强度参数是否合法

if strength not in STRENGTH_RULES:

raise ValueError(f"不支持的强度等级：{strength}")

  

required_types = STRENGTH_RULES[strength] # 需要包含的字符类型

required_chars = [] # 用于存放每种类型至少一个字符

  

# 先确保每种类型至少选一个字符，保证密码合规

for t in required_types:

required_chars.append(random.choice(CHAR_TYPE_MAP[t]))

  

# 拼接出整体字符池（所有需要的类型合并）

full_pool = ''.join([CHAR_TYPE_MAP[t] for t in required_types])

  

# 计算剩余需要补齐的字符数

remaining_len = code_len - len(required_chars)

# 如果不允许重复且池子不够大，抛出异常

if not allow_repeat and remaining_len > len(set(full_pool)):

raise ValueError("无法在无重复规则下生成足够字符")

  

# 根据是否允许重复，选择sample或choices补齐剩余字符

if allow_repeat:

extra_chars = random.choices(full_pool, k=remaining_len)

else:

extra_chars = random.sample(full_pool, k=remaining_len)

  

# 合并所有字符并打乱顺序，防止规律性

password_chars = required_chars + extra_chars

random.shuffle(password_chars)

  

# 返回最终密码字符串

return ''.join(password_chars)

  

if __name__ == "__main__":

print("低级密码:", generate_password(code_len=8, strength='weak'))

print("中级密码:", generate_password(code_len=12, strength='medium'))

print("高级密码:", generate_password(code_len=16, strength='strong'))

print("自定义规则:", generate_password(code_len=10, custom_chars='abc123!@#'))

```
2. 去掉一个整数列表中的奇数，并对所有的偶数求平方得到一个新的列表
